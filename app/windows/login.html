<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" />
    <title id="frameTitle">{{ language.loginPageTitle }}</title>
  <style>
    .right-buttons {
      text-align: right;
    }

    .signin-text {
      margin-top: 5%;
    }

  </style>
  </head>
  <body>
      <div class="container">
            <div class="row">
              <div class="col-4 mx-auto"><img class="img-fluid" src="assets/img/logo.png" /></div>
            </div>
            <div class="row">
              <div class="col-sm-6 mx-auto">
                  <form method="POST" action="/">
                      <div class="form-group">
                        <label for="username" id="lblUsername">{{language.username}}</label>
                        <input type="text" class="form-control form-control-sm" id="username" placeholder="Hit your username!">
                      </div>
                      <div class="form-group">
                        <label for="password" id="lblPassword">{{language.password}}</label>
                        <input type="password" class="form-control form-control-sm" id="password" placeholder="Password">
                      </div>
                      <div class="form-group">
                        <label for="language" id="systemLanguage">{{language.systemLanguage}}</label>
                        <select id="cmbLanguages" name="cmbLanguages" class="form-control">
                          <option value="en">English</option>
                          <option value="tr">Türkçe</option>}
                        </select>
                      </div>
                      <div class="form-check">
                        <input type="checkbox" checked="true" class="form-check-input" id="saveUsername">
                        <label class="form-check-label" id="saveUsernameInfo" for="saveUsername">{{language.saveUsername}}</label>
                      </div>
                      <div class="col right-buttons">
                          <button type="button" id="btnLogin" class="btn btn-success">{{language.login}}</button>
                          <button type="button" id="btnExit" class="btn btn-primary">{{language.exit}}</button>
                      </div>
                      <div class="col bottom-align-text signin-text">
                          <h6><span id="dontHaveAnAccount">{{language.dontHaveAnAccount}}</span> <a id="createAccount" href="#">{{language.createYourOwnAccount}}</a></h6>
                      </div>
                    </form>
              </div>
            </div> 
          </div>
    <script src="assets/js_libs/jquery-3.3.1.slim.min.js" ></script>
    <script src="assets/js_libs/popper.min.js"></script>
    <script src="assets/js_libs/bootstrap.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
      const socket = io();
      
      socket.on('setupLanguage', (lang) => {
          $('#frameTitle').html(lang.loginPageTitle);
          $('#lblUsername').html(lang.username);
          $('#lblPassword').html(lang.password);
          $('#systemLanguage').html(lang.systemLanguage);
          $('#username').attr("placeholder", lang.username);
          $('#password').attr("placeholder", lang.password);
          $('#saveUsernameInfo').text(lang.saveUsername);
          $('#btnLogin').text(lang.login);
          $('#btnExit').text(lang.exit);
          $('#dontHaveAnAccount').html(lang.dontHaveAnAccount);
          $('#createAccount').text(lang.createYourOwnAccount);
      });

      $("#cmbLanguages").change(function() {
        const newLanguage = $('#cmbLanguages').val();
        socket.emit('languageChanged', newLanguage);
    });
    </script>
  
  </body>
</html>
